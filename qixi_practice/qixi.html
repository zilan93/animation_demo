<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>qixi</title>
    <link href="css/common.css" type="text/css" rel="stylesheet"/>
    <link href="css/pageA.css" type="text/css" rel="stylesheet"/>
    <link href="css/pageB.css" type="text/css" rel="stylesheet"/>
    <link href="css/pageC.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<div id="container">
    <ul class="qixi_bg">
        <li>
            <div class="a_background_bg">
                <div class="a_background_top"></div>
                <div class="a_background_middle"></div>
                <div class="a_background_bottom"></div>
            </div>
        </li>
        <li>
            <div class="b_background_bg"></div>
            <div class="preload_background_bg"></div>
            <div class="shop">
                <div class="door">
                    <div class="left_door"></div>
                    <div class="right_door"></div>
                </div>
            </div>
            <div class="lamp"></div>
        </li>
        <li>
            <div class="c_background_bg">
                <div class="c_background_top"></div>
                <div class="c_background_middle"></div>
                <div class="c_background_bottom"></div>
            </div>
            <div class="girl"></div>
        </li>
    </ul>
    <div class="boy walk_slow"></div>
</div>
<script type="text/javascript" src="js/jquery-1.11.3.js"></script>
<script type="text/javascript" src="js/jquery.transit.min.js"></script>
<script type="text/javascript" src="js/swipe.js"></script>
<script type="text/javascript" src="js/qixi.js"></script>
<script type="text/javascript">
    var container = $("#container");
    var scrollTo = swipe();
    scrollTo.scrollToFun();
    var walk = boy();
    walk.runWalk(5000,0.7).then(function () {
        scrollTo.scrollToFun(container.width(),5000);
    }).then(function () {
        return walk.runWalk(5000,0.5);
    }).then(function () {
        return doorOpen();
    }).then(function () {
        lamp.lampBright();
    }).then(function(){
        return walk.walkToShop(1500);
    }).then(function () {
        return walk.takeFlower();
    }).then(function () {
        return walk.shutShop(1500);
    }).then(function () {
        return doorClose();
    }).then(function () {
        lamp.lampDark();
    }).then(function () {
        scrollTo.scrollToFun(container.width() * 2,5000);
    }).then(function () {
        return walk.runWalk(5000,0.15);
    }).then(function () {
        return walk.runWalk(1000,0.25,girl.girlOffsetHei() / container.height());
    }).then(function () {
        var disDvalue = (girl.girlOffsetWid() - $(".boy").width()) / container.width();
        return walk.runWalk(1000,disDvalue);
    }).then(function () {
        walk.shutWalk();
    }).then(function () {
        return rotateAll();
    })
</script>
</body>
</html>